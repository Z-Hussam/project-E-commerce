
{% extends 'base.html.twig' %}

{% block body %}
    <div class="container my-5">
        <div class="row justify-content-center">
            
            <div class="col-sm-10 col-md-8 col-lg-6">

            
                <div class="p-4 p-md-5">
                    <h1 class="text-center mb-4 text-secondary-emphasis">Connexion</h1>

                    {# message d'erreur sous forme d'alerte  #}
                    {% if error %}
                        <div class="alert alert-danger text-center" role="alert">
                            {{ error.messageKey|trans(error.messageData, 'security') }}
                        </div>
                    {% endif %}

                    <form action="{{ path('app_login') }}" method="post">
                        
                        <div class="mb-3">
                            <label for="username" class="form-label fw-semibold">Votre email:</label>
                            <input class="form-control" type="email" id="username" name="_username" value="{{ lastUserName }}" required autofocus>
                        </div>

                        <div class="mb-4">
                            <label for="password" class="form-label fw-semibold">Votre mot de passe:</label>
                            <input class="form-control" type="password" id="password" name="_password" required>
                        </div>

                        {# Hidden field for successful redirect #}
                        <input type="hidden" name="_target_path" value="{{path('app_account')}}">

                        <button type="submit" class="btn bg-secondary  w-100 text-white mt-3 fw-bold">Me connecter</button>

                    </form>

                    <hr class="my-4">

                    <div class="text-center small">
                        {# Links for new account and forgotten password #}
                        <p class="mb-1">
                            Vous n'avez pas de compte ?
                            <a href="{{path('app_inscription')}}" class='text-decoration-none fw-semibold'>Inscrivez-vous</a>
                        </p>
                        <p class="mb-0">
                            <a href="{{path('app_forgot_password_request')}}" class="text-decoration-none">Mot de passe oubli√© ?</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}